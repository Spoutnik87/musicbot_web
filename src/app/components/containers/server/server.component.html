<div class="container mt-5" *ngIf="serverState$ | async as serverState">
  <app-loading class="mt-5 text-center" [loading]="serverState.loading"></app-loading>
  <ng-container *ngIf="!serverState.loading">
    <app-card [title]="'Serveur: ' + serverState.server.name">
      <div class="w-100" *ngIf="serverState.server.linked === false">
        Ce serveur n'est pas lié à une instance Discord. <br />Entrez la commande suivante dans un salon de votre serveur Discord :
        <div class="mt-2 w-100 token-container">
          {{ configService.getCommandPrefix() }}link {{ (serverLinkToken$ | async)?.serverLinkToken }}
        </div>
        <button class="btn btn-primary mt-2" (click)="refresh()">Rafraîchir</button>
      </div>
      <div class="w-100" *ngIf="serverState.server.linked">
        <app-content-list [server]="serverState.server"></app-content-list>
      </div>
    </app-card>
  </ng-container>
</div>
